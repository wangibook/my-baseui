import{u as F}from"./vue-router.ebee86ab.js";import{H as N}from"./header.c7cc2b63.js";import{_ as V,m as h}from"./index.7a7411b8.js";import{a as f,r as $,f as q,n as T,g as c,F as x,l as a,k as L,H as _,I as S,u as z,o as r,x as k,B as A,C as P,e as R}from"./@vue.703f3de3.js";const j=u=>(A("data-v-387e3c9e"),u=u(),P(),u),G={class:"main-container"},J={class:"sidebar"},K={class:"title"},O=["onClick"],Q={class:"content-slidebar"},U={class:"content-section"},W=j(()=>a("p",{class:"content-title"},"\u5185\u5BB9\u5BFC\u822A",-1)),X=["onClick"],Y={class:"desc"},Z={__name:"home",setup(u){var y;const b=F(),d=f(sessionStorage.getItem("mIndex")||"0"),m=f(!1),n=$({contentList:[],topList:[]}),p=f(null);n.contentList=(y=h[0].list[0])==null?void 0:y.content;const w=(e,t,o)=>{var s;d.value=t+"-"+o,n.contentList=(s=h[t].list[o])==null?void 0:s.content,b.push({path:e.path}),sessionStorage.setItem("mIndex",d.value),setTimeout(()=>{T(()=>{I()})},500)},g=e=>{let t=n.contentList;t.forEach((o,s)=>{o.active=!1,s==e&&(o.active=!0)}),n.contentList=t},E=()=>{m.value=!0},H=()=>{m.value=!1},I=()=>{let e=document.querySelectorAll("h2"),t=[];e.forEach(o=>{t.push(o.offsetTop)}),n.topList=t};let v=!1;const B=e=>{var t;g(e),v=!0,(t=p.value)==null||t.scrollTo({top:n.topList[e]-70,left:0,behavior:"smooth"}),setTimeout(()=>{v=!1},500)},M=()=>{if(v)return;const e=p.value.scrollTop;for(let t=0;t<n.topList.length;t++)if(e>n.topList[t]-70&&e<=n.topList[t+1]-70){g(t);break}},D=(e,t)=>{let o=0;return function(){let s=this,i=arguments,l=new Date;l-o>t&&(o=l,e.apply(s,i))}};return q(()=>{T(()=>{I(),p.value.addEventListener("scroll",D(M,500))})}),(e,t)=>{const o=R("router-view");return r(),c(_,null,[x(N),a("div",G,[a("aside",{onMousemove:E,onMouseleave:H,class:L({"sidebar-scroll":m.value})},[a("div",J,[(r(!0),c(_,null,S(z(h),(s,i)=>(r(),c("ul",{key:s},[a("p",K,k(s.name),1),(r(!0),c(_,null,S(s.list,(l,C)=>(r(),c("li",{key:l,class:L({active:d.value==i+"-"+C}),onClick:tt=>w(l,i,C)},k(l.name),11,O))),128))]))),128))])],34),a("main",{class:"app-main",ref_key:"mainScroll",ref:p},[x(o)],512),a("div",Q,[a("div",U,[W,(r(!0),c(_,null,S(n.contentList,(s,i)=>(r(),c("ul",{key:s},[a("p",{onClick:l=>B(i),class:L(["nav-title",{selected:s.active}])},[a("span",Y,k(s.title),1)],10,X)]))),128))])])])],64)}}};var at=V(Z,[["__scopeId","data-v-387e3c9e"]]);export{at as default};
