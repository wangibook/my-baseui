import{u as N}from"./vue-router.54876e93.js";import{H as V}from"./header.2be2c14b.js";import{_ as $,m as L}from"./index.ccb5ed92.js";import{e as T}from"./bus.f1893518.js";import{a as S,r as q,f as z,n as w,W as A,g as r,F as x,l as a,k as g,H as _,I as k,u as P,o as c,x as C,B as R,C as W,e as j}from"./@vue.e84e1286.js";import"./mitt.550594b0.js";const G=u=>(R("data-v-345c699f"),u=u(),W(),u),J={class:"main-container"},K={class:"sidebar"},O={class:"title"},Q=["onClick"],U={class:"content-slidebar"},X={class:"content-section"},Y=G(()=>a("p",{class:"content-title"},"\u5185\u5BB9\u5BFC\u822A",-1)),Z=["onClick"],ee={class:"desc"},te={__name:"home",setup(u){var I;const b=N(),m=S(sessionStorage.getItem("mIndex")||"0"),d=S(!1),n=q({contentList:[],topList:[]}),p=S(null);n.contentList=(I=L[0].list[0])==null?void 0:I.content;const B=(t,e,o)=>{var s;m.value=e+"-"+o,n.contentList=(s=L[e].list[o])==null?void 0:s.content,b.push({path:t.path}),sessionStorage.setItem("mIndex",m.value),v(0),setTimeout(()=>{w(()=>{f()})},500)},v=t=>{let e=n.contentList;e&&e.forEach((o,s)=>{o.active=!1,s==t&&(o.active=!0)}),n.contentList=e},E=()=>{d.value=!0},H=()=>{d.value=!1},f=()=>{let t=document.querySelectorAll("h2"),e=[];t.forEach(o=>{e.push(o.offsetTop)}),n.topList=e};let h=!1;const M=t=>{var e;v(t),h=!0,(e=p.value)==null||e.scrollTo({top:n.topList[t]-70,left:0,behavior:"smooth"}),setTimeout(()=>{h=!1},500)},D=()=>{if(h)return;const t=p.value.scrollTop;for(let e=0;e<n.topList.length;e++)if(t>n.topList[e]-80&&t<=n.topList[e+1]-80){v(e);break}},F=(t,e)=>{let o=0;return function(){let s=this,i=arguments,l=new Date;l-o>e&&(o=l,t.apply(s,i))}};return z(()=>{w(()=>{f(),p.value.addEventListener("scroll",F(D,200))}),T.on("previewChange",t=>{setTimeout(()=>{f()},500)})}),A(()=>{T.off("previewChange")}),(t,e)=>{const o=j("router-view");return c(),r(_,null,[x(V),a("div",J,[a("aside",{onMousemove:E,onMouseleave:H,class:g({"sidebar-scroll":d.value})},[a("div",K,[(c(!0),r(_,null,k(P(L),(s,i)=>(c(),r("ul",{key:s},[a("p",O,C(s.name),1),(c(!0),r(_,null,k(s.list,(l,y)=>(c(),r("li",{key:l,class:g({active:m.value==i+"-"+y}),onClick:se=>B(l,i,y)},C(l.name),11,Q))),128))]))),128))])],34),a("main",{class:"app-main",ref_key:"mainScroll",ref:p},[x(o)],512),a("div",U,[a("div",X,[Y,(c(!0),r(_,null,k(n.contentList,(s,i)=>(c(),r("ul",{key:s},[a("p",{onClick:l=>M(i),class:g(["nav-title",{selected:s.active}])},[a("span",ee,C(s.title),1)],10,Z)]))),128))])])])],64)}}};var ie=$(te,[["__scopeId","data-v-345c699f"]]);export{ie as default};
